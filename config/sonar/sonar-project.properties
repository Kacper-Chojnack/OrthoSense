# SonarCloud Project Configuration
sonar.projectKey=Kacper-Chojnack_OrthoSense
sonar.projectName=OrthoSense
sonar.projectVersion=1.0.0
sonar.organization=kacper-chojnack-1

# Source and test paths (both backend and frontend)
sonar.sources=backend/app,lib
sonar.tests=backend/tests,test
sonar.python.version=3.13

# Language detection hints
sonar.language=

# Exclude files
sonar.exclusions=\
  **/__pycache__/**,\
  **/.pytest_cache/**,\
  **/migrations/**,\
  **/alembic/**,\
  **/*.pyc,\
  **/*.g.dart,\
  **/*.freezed.dart,\
  **/generated/**,\
  **/build/**,\
  **/.dart_tool/**,\
  **/ios/Pods/**,\
  **/android/.gradle/**

# Test exclusions
sonar.test.exclusions=backend/tests/**,test/**

# Exclude test files from security hotspot analysis (test data is not real secrets)
sonar.security.exclusions=**/tests/**,**/test/**,**/*_test.py,**/*_test.dart

# Coverage reports
sonar.python.coverage.reportPaths=backend/coverage.xml
sonar.python.xunit.reportPath=backend/test-results.xml

# Flutter coverage
sonar.dart.coverage.reportPaths=coverage/lcov.info
sonar.flutter.coverage.reportPath=coverage/lcov.info

# External linters integration
sonar.python.ruff.reportPaths=backend/ruff-report.json
sonar.python.mypy.reportPaths=backend/mypy-report.xml

# Quality Gate thresholds
sonar.qualitygate.wait=false
sonar.qualitygate.timeout=300

# New code definition - analyze only new code for quality gate
sonar.newCode.referenceBranch=main
sonar.leak.period=previous_version

# Skip duplications on test files
sonar.cpd.exclusions=**/tests/**,**/test/**,**/*_test.dart,**/*_test.py

# Coverage exclusions - exclude files that shouldn't count for coverage
sonar.coverage.exclusions=\
  **/__pycache__/**,\
  **/tests/**,\
  **/test/**,\
  **/*_test.dart,\
  **/*_test.py,\
  **/generated/**,\
  **/*.g.dart,\
  **/*.freezed.dart,\
  **/migrations/**,\
  lib/main.dart

# Additional analysis parameters
sonar.sourceEncoding=UTF-8
sonar.verbose=false

# Disable C/C++/Objective-C analysis (iOS Pods contain these files)
sonar.c.file.suffixes=-
sonar.cpp.file.suffixes=-
sonar.objc.file.suffixes=-
